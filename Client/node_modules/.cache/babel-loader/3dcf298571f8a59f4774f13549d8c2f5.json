{"ast":null,"code":"var _jsxFileName = \"D:\\\\webapi\\\\WebApiFurniture\\\\Client\\\\src\\\\components\\\\order\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport './styles.scss';\nimport { useEffect, useState } from 'react';\nimport Pagination from '../pagination';\nimport { titleTab } from '../../utils/titleGenerate';\nimport { useNavigate } from 'react-router-dom';\nimport { getOrder } from '../../api/service/orders.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Order() {\n  _s();\n\n  titleTab('Đơn hàng của bạn');\n  const [list, setList] = useState([]);\n  const [dataLogin, setDataLogin] = useState(() => {\n    const storage = JSON.parse(localStorage.getItem('client'));\n    console.log(storage);\n    return storage;\n  });\n  let navigate = useNavigate();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemPage, setItemPage] = useState(5);\n  const indexOfLastItem = currentPage * itemPage;\n  const indexOfFirstItem = indexOfLastItem - itemPage;\n  const currentPages = list.slice(indexOfFirstItem, indexOfLastItem);\n  useEffect(() => {\n    getOrder(dataLogin._id).then(res => {\n      setList(res.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }, []);\n\n  function truncate(str, n) {\n    return str.length > n ? str.slice(0, n - 1) + '...' : str;\n  }\n\n  ;\n\n  function paginate(number) {\n    setCurrentPage(number);\n  }\n\n  function formatDate(date) {\n    let objDate = new Date(date);\n    let getHour = objDate.getHours();\n    let getMinutes = objDate.getMinutes();\n    let getSecond = objDate.getSeconds();\n    let day = objDate.getDate();\n    let month = objDate.getMonth();\n    let year = objDate.getFullYear();\n    let format2 = `${day}-${month + 1}-${year} ${getHour < 10 ? '0' + getHour : getHour}:${getMinutes < 10 ? '0' + getMinutes : getMinutes}:${getSecond < 10 ? '0' + getSecond : getSecond}`;\n    return format2;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Cart__item\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container signup \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0110\\u01A1n H\\xE0ng C\\u1EE7a B\\u1EA1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopcart\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"T\\xEAn S\\u1EA3n ph\\u1EA9m\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"S\\u1ED1 L\\u01B0\\u1EE3ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"T\\u1ED5ng ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              id: \"cart-body\",\n              children: currentPages.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m n\\xE0o b\\u1EA1n mua\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 65\n              }, this) : currentPages.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.product_id.map(pro => /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: pro.product_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.order_quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.order_total.toLocaleString('it-IT', {\n                    style: 'currency',\n                    currency: 'VND'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatDate(item.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 45\n                }, this)]\n              }, item._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"pag\",\n          children: /*#__PURE__*/_jsxDEV(Pagination, {\n            itemPage: itemPage,\n            totalPage: list.length,\n            paginated: paginate,\n            current: currentPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Order, \"jriOnEWMz9HAGZ+9dgIbuB3jNgs=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["useEffect","useState","Pagination","titleTab","useNavigate","getOrder","Order","list","setList","dataLogin","setDataLogin","storage","JSON","parse","localStorage","getItem","console","log","navigate","currentPage","setCurrentPage","itemPage","setItemPage","indexOfLastItem","indexOfFirstItem","currentPages","slice","_id","then","res","data","catch","e","truncate","str","n","length","paginate","number","formatDate","date","objDate","Date","getHour","getHours","getMinutes","getSecond","getSeconds","day","getDate","month","getMonth","year","getFullYear","format2","map","item","index","product_id","pro","product_name","order_quantity","order_total","toLocaleString","style","currency","createdAt"],"sources":["D:/webapi/WebApiFurniture/Client/src/components/order/index.js"],"sourcesContent":["import './styles.scss';\r\nimport { useEffect, useState } from 'react';\r\nimport Pagination from '../pagination';\r\nimport { titleTab } from '../../utils/titleGenerate';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getOrder } from '../../api/service/orders.service';\r\n\r\nfunction Order() {\r\n    titleTab('Đơn hàng của bạn')\r\n    const [list, setList] = useState([]);\r\n    const [dataLogin, setDataLogin] = useState(() => {\r\n        const storage = JSON.parse(localStorage.getItem('client'));\r\n        console.log(storage);\r\n        return storage;\r\n    });\r\n\r\n    let navigate = useNavigate();\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemPage, setItemPage] = useState(5);\r\n\r\n    const indexOfLastItem = currentPage * itemPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemPage;\r\n    const currentPages = list.slice(indexOfFirstItem, indexOfLastItem);\r\n    \r\n    useEffect(() => {\r\n        getOrder(dataLogin._id)\r\n        .then(res => {setList(res.data)})\r\n        .catch(e => {console.log(e);})\r\n    }, []);\r\n\r\n    function truncate(str, n) {\r\n        return (str.length > n) ? str.slice(0, n - 1) + '...' : str;\r\n    };\r\n\r\n\r\n\r\n    function paginate(number) {\r\n        setCurrentPage(number);\r\n    }\r\n\r\n    function formatDate(date) {\r\n        let objDate = new Date(date);\r\n        let getHour = objDate.getHours();\r\n        let getMinutes = objDate.getMinutes();\r\n        let getSecond = objDate.getSeconds();\r\n        let day = objDate.getDate();\r\n        let month = objDate.getMonth();\r\n        let year = objDate.getFullYear();\r\n        let format2 = `${day}-${month + 1}-${year} ${getHour < 10 ? '0'+getHour : getHour}:${getMinutes < 10 ? '0'+getMinutes : getMinutes}:${getSecond < 10 ? '0' + getSecond : getSecond}`;\r\n        return format2;\r\n    }\r\n\r\n    return (\r\n        <div className='Cart__item'>\r\n            <section className=\"container signup \">\r\n                <div className=\"content\">\r\n                    <h1>Đơn Hàng Của Bạn</h1>\r\n                </div>\r\n                <div className=\"notification\">\r\n\r\n                </div>\r\n                <div className=\"shopcart\">\r\n                    <div className=\"cart\">\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th></th>\r\n                                    <th>Tên Sản phẩm</th>\r\n                                    <th>Số Lượng</th>\r\n                                    <th>Tổng tiền</th>\r\n                                    <th>Ngày đặt</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"cart-body\">\r\n                                {\r\n                                    currentPages.length === 0 ? <h1>Chưa có sản phẩm nào bạn mua</h1>: \r\n                                    (currentPages.map((item, index) => (\r\n                                        <tr key={item._id}>\r\n                                            <td>{index + 1}</td>\r\n                                            <td>{\r\n                                                item.product_id.map(pro => (\r\n                                                    <div>\r\n                                                        {pro.product_name}\r\n                                                    </div>\r\n                                                ))\r\n                                            }</td>\r\n                                            <td>{item.order_quantity}</td>\r\n                                            <td>{item.order_total.toLocaleString('it-IT', { style: 'currency', currency: 'VND' })}</td>\r\n                                            <td>{formatDate(item.createdAt)}</td>\r\n                                        </tr>\r\n                                    )))\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"pag\">\r\n                        <Pagination itemPage={itemPage} totalPage={list.length} paginated={paginate} current={currentPage} />\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Order;"],"mappings":"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"},"metadata":{},"sourceType":"module"}